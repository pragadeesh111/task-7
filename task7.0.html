<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>task-7</title>
</head>

<body>


    <script>
        function handleData() {
            let data = JSON.parse(this.responseText)
            console.log(data)


            // 1. All countries from Asian continent / region Using filter function
            let country1 = data.filter((e) => {
                if (e.continents[0] == "Asia" || e.region[0] == "Asia") {
                    return true;
                }
                else {
                    return false;
                }
            })
            console.log(country1);

            // // 2. Countries population less than 2 lakhs using filter()\
            let country2 = data.filter((e) => {
                if (e.population < 200000) {
                    return true;
                }
                else {
                    return false;
                }
            })
            console.log(country2);

            // 3. All countries Name, capital, flag
            data.forEach((e) => {
                console.log(e.name, e.capital, e.flag);
            })


            // 4. Total population of countries using reduce()

            let country3 = data.reduce((previousValue, currentValue) => {
                return previousValue + currentValue.population;
            }, 0)
            console.log(country3);

            // 5. Countries which uses US dollar as currency
            let country4 = data.filter((e) => {

                for (let i in e.currencies) {
                    if (e.currencies[i].name == "United States dollar") {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
            })
            console.log(country4);
        }



        const req = new XMLHttpRequest();
        req.addEventListener("load", handleData)
        req.open("GET", "https://restcountries.com/v3.1/all")
        req.send()
    </script>
</body>

</html>